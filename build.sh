#!/bin/bash
# Go to example project
cd example
# Install dependencies
npm i
# Run appium
appiumPID=$(ps -A | grep -v grep | grep appium | awk '{print $1}')
if [ -z $appiumPID ]; then
  npm run appium > /dev/null 2>&1 &
else
  echo "appium is already running, restart appium"
  kill -9 $appiumPID
  npm run appium > /dev/null 2>&1 &
fi
# Build android app
npm run build
# Run e2e tests
npm test
